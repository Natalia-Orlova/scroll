<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Пример слайдера с индикаторами и свайпом</title>
<style>
    #slider {
        width: 400px;
        overflow: hidden;
        position: relative;
    }
    #slides {
        display: flex;
        transition: transform 0.5s ease;
    }
    .slide {
        width: 400px;
        flex: 0 0 auto;
    }
    #indicators {
        display: flex;
        justify-content: center;
        margin-top: 10px;
    }
    .indicator {
        margin: 0 5px;
        width: 10px;
        height: 10px;
        background-color: gray;
        border-radius: 50%;
        cursor: pointer;
    }
</style>
</head>
<body>
<div id="slider">
    <div id="slides">
        <div class="slide" style="background-color: #ffcccc;">Слайд 1</div>
        <div class="slide" style="background-color: #ccffcc;">Слайд 2</div>
        <div class="slide" style="background-color: #ccccff;">Слайд 3</div>
    </div>
    <div id="indicators"></div>
</div>

<script>
    const slider = document.getElementById('slider');
    const slides = document.querySelectorAll('.slide');
    const slidesContainer = document.getElementById('slides');
    const indicatorsContainer = document.getElementById('indicators');
    const totalSlides = slides.length;
    let currentSlide = 0;
    let touchStartX = 0;
    let touchEndX = 0;

    function goToSlide(slideIndex) {
        if (slideIndex < 0 || slideIndex >= totalSlides) return;

        currentSlide = slideIndex;
        slidesContainer.style.transform = `translateX(-${currentSlide * 100}%)`;
        updateIndicators();
    }

    function updateIndicators() {
        indicatorsContainer.innerHTML = '';
        for (let i = 0; i < totalSlides; i++) {
            const indicator = document.createElement('div');
            indicator.className = 'indicator';
            if (i === currentSlide) {
                indicator.style.backgroundColor = 'black';
            }
            indicator.addEventListener('click', () => {
                goToSlide(i);
            });
            indicatorsContainer.appendChild(indicator);
        }
    }

    function nextSlide() {
        currentSlide = (currentSlide + 1) % totalSlides;
        goToSlide(currentSlide);
    }

    function prevSlide() {
        currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
        goToSlide(currentSlide);
    }

    function handleTouchStart(event) {
        touchStartX = event.touches[0].clientX;
    }

    function handleTouchEnd(event) {
        touchEndX = event.changedTouches[0].clientX;
        if (touchEndX < touchStartX) {
            nextSlide();
        } else if (touchEndX > touchStartX) {
            prevSlide();
        }
    }

    slider.addEventListener('touchstart', handleTouchStart);
    slider.addEventListener('touchend', handleTouchEnd);

    updateIndicators();
    // setInterval(nextSlide, 3000); // Автоматическое переключение каждые 3 секунды
</script>
</body>
</html>